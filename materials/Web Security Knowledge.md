Веб-безопасность — это набор практик и технологий, направленных на защиту веб-приложений от угроз и уязвимостей. Основная цель — обеспечить **конфиденциальность**, **целостность** и **доступность** данных. Веб-безопасность охватывает как защиту от внешних атак, так и предотвращение внутренних утечек данных.

---

### Основные угрозы веб-безопасности

1. **SQL-инъекции (SQL Injection)**:  
   - Злоумышленник внедряет вредоносный SQL-код через входные данные, чтобы получить доступ к базе данных.  
   - **Пример**: `SELECT * FROM users WHERE username = 'admin' --' AND password = ''`.  

2. **Межсайтовый скриптинг (XSS, Cross-Site Scripting)**:  
   - Злоумышленник внедряет вредоносный JavaScript-код на страницу, который выполняется в браузере пользователя.  
   - **Пример**: `<script>alert('XSS');</script>`.  

3. **Подделка межсайтовых запросов (CSRF, Cross-Site Request Forgery)**:  
   - Злоумышленник заставляет пользователя выполнить нежелательные действия на другом сайте, где он авторизован.  

4. **Небезопасная аутентификация и управление сессиями**:  
   - Слабые пароли, утечка сессий или отсутствие двухфакторной аутентификации.  

5. **Небезопасные прямые ссылки на объекты (IDOR, Insecure Direct Object References)**:  
   - Злоумышленник получает доступ к данным, изменяя параметры запроса (например, `user_id=123`).  

6. **Утечка данных**:  
   - Неправильная настройка прав доступа или отсутствие шифрования приводит к утечке конфиденциальной информации.  

7. **DDoS-атаки**:  
   - Злоумышленник перегружает сервер большим количеством запросов, делая его недоступным.  

---

### Основные практики веб-безопасности

1. **Использование HTTPS**:  
   - Шифрование данных с помощью SSL/TLS для защиты передаваемой информации.  
   - **Пример**: Использование сертификатов Let's Encrypt для бесплатного HTTPS.  

2. **Валидация и санитизация входных данных**:  
   - Проверка и очистка всех данных, поступающих от пользователя, чтобы предотвратить инъекции и XSS.  
   - **Пример**: Использование подготовленных выражений (prepared statements) для SQL-запросов.  

3. **Сильная аутентификация и авторизация**:  
   - Использование сложных паролей, двухфакторной аутентификации (2FA) и ролевой модели доступа.  

4. **Безопасное управление сессиями**:  
   - Использование безопасных куки (с флагами `HttpOnly` и `Secure`), регулярное обновление сессий.  

5. **Защита от CSRF**:  
   - Использование CSRF-токенов для проверки подлинности запросов.  

6. **Регулярное обновление и патчинг**:  
   - Своевременное обновление библиотек, фреймворков и серверного ПО для устранения уязвимостей.  

7. **Безопасная конфигурация серверов**:  
   - Отключение ненужных служб, использование брандмауэров и ограничение прав доступа.  

8. **Резервное копирование данных**:  
   - Регулярное создание резервных копий для восстановления в случае атаки или сбоя.  

---

### Инструменты и методы тестирования безопасности

1. **Статический анализ кода**:  
   - Использование инструментов, таких как **SonarQube** или **ESLint**, для поиска уязвимостей в коде.  

2. **Динамическое тестирование**:  
   - Использование инструментов, таких как **OWASP ZAP** или **Burp Suite**, для поиска уязвимостей в работающем приложении.  

3. **Пентест (тестирование на проникновение)**:  
   - Имитация атак для проверки устойчивости системы.  

4. **Сканирование уязвимостей**:  
   - Использование инструментов, таких как **Nessus** или **OpenVAS**, для поиска известных уязвимостей.  

---

### Примеры защиты от угроз

1. **Защита от SQL-инъекций**:  
   - Использование подготовленных выражений (prepared statements) или ORM (например, SQLAlchemy, Hibernate).  
   ```python
   # Пример с использованием prepared statements
   cursor.execute("SELECT * FROM users WHERE username = %s AND password = %s", (username, password))
   ```

2. **Защита от XSS**:  
   - Экранирование HTML-тегов и использование библиотек, таких как **DOMPurify**.  
   ```javascript
   // Пример с использованием DOMPurify
   const clean = DOMPurify.sanitize(dirty);
   ```

3. **Защита от CSRF**:  
   - Использование CSRF-токенов в формах.  
   ```html
   <form action="/transfer" method="POST">
       <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
       <input type="text" name="amount">
       <button type="submit">Transfer</button>
   </form>
   ```

---

### Дополнение от меня

- **OWASP Top 10**:  
   Список самых критичных уязвимостей веб-приложений, который регулярно обновляется. Рекомендуется изучить и учитывать при разработке.  